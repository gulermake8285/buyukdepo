<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Detail - ARSA Token</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Property Detail Specific Styles */
        .property-header {
            padding: 120px 0 60px;
            background: rgba(255, 255, 255, 0.02);
        }

        .property-container {
            padding-left: 2rem;
            padding-right: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .property-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff 0%, #667eea 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .property-location {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1rem;
        }

        .property-status {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
            margin-right: 1rem;
        }

        .verified-badge {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            border-radius: 25px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Main Content */
        .main-content {
            padding: 60px 0;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 4rem;
        }

        /* Property Gallery */
        .property-gallery {
            margin-bottom: 3rem;
        }

        .main-image {
            width: 100%;
            height: 400px;
            border-radius: 20px;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
            background: url('https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80') center/cover;
        }

        .image-overlay {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem 1.5rem;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .image-overlay h3 {
            color: white;
            margin: 0;
            font-size: 1.3rem;
        }

        .image-overlay p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0.5rem 0 0 0;
            font-size: 0.9rem;
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .thumbnail {
            height: 80px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background-size: cover;
            background-position: center;
            border: 2px solid transparent;
        }

        .thumbnail:hover, .thumbnail.active {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .thumb-1 { background-image: url('https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'); }
        .thumb-2 { background-image: url('https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'); }
        .thumb-3 { background-image: url('https://images.unsplash.com/photo-1560520653-9e0e4c89eb11?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'); }
        .thumb-4 { background-image: url('https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80'); }

        /* Property Details */
        .property-details {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .details-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: #667eea;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .detail-row:last-child {
            border-bottom: none;
        }

        .detail-label {
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
        }

        .detail-value {
            font-weight: 600;
            color: #ffffff;
        }

        /* NFT Investment Panel */
        .investment-panel {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            position: sticky;
            top: 100px;
        }

        .panel-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: #667eea;
            text-align: center;
        }

        /* NFT Status */
        .nft-status {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .nft-numbers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .nft-stat {
            text-align: center;
        }

        .nft-stat .number {
            font-size: 1.8rem;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .nft-stat .label {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .progress-container {
            margin-top: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 73%;
            transition: width 0.3s ease;
        }

        /* Investment Stats */
        .investment-stats {
            margin-bottom: 2rem;
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.7);
        }

        .stat-value {
            font-weight: 700;
            color: #667eea;
        }

        /* Investment Calculator */
        .calculator {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .calc-title {
            color: #667eea;
            font-weight: 600;
            margin-bottom: 1rem;
            text-align: center;
        }

        .amount-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 1rem;
            color: white;
            font-size: 1.1rem;
            outline: none;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .amount-input:focus {
            border-color: #667eea;
            background: rgba(255, 255, 255, 0.15);
        }

        .quick-amounts {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .quick-amount {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            text-align: center;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .quick-amount:hover {
            background: rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }

        .calc-result {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid #10b981;
            border-radius: 10px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .calc-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        .calc-row:last-child {
            margin-bottom: 0;
            font-weight: 700;
            font-size: 1rem;
            color: #10b981;
            border-top: 1px solid rgba(16, 185, 129, 0.3);
            padding-top: 0.5rem;
            margin-top: 0.5rem;
        }

        .trust-indicators {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .trust-item {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .trust-item:last-child {
            margin-bottom: 0;
        }

        .trust-icon {
            color: #10b981;
            margin-right: 0.8rem;
            font-size: 1.1rem;
        }

        .buy-button {
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: none;
            padding: 1.2rem;
            border-radius: 15px;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1rem;
        }

        .buy-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .buy-button:disabled {
            background: rgba(255, 255, 255, 0.2);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .connect-wallet-btn {
            width: 100%;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.3);
            padding: 1rem;
            border-radius: 15px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .connect-wallet-btn:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.2);
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            color: white;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }

        /* Alert System */
        .alert {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 12px;
            font-weight: 500;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
            color: #f59e0b;
        }

        .alert-info {
            background: rgba(102, 126, 234, 0.1);
            border: 1px solid rgba(102, 126, 234, 0.3);
            color: #667eea;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .investment-panel {
                position: static;
            }

            .property-container {
                padding-left: 1.5rem;
                padding-right: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .property-title {
                font-size: 2rem;
            }

            .main-image {
                height: 250px;
            }

            .thumbnail-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .quick-amounts {
                grid-template-columns: repeat(2, 1fr);
            }

            .property-container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav container">
            <div class="logo">🏗️ ARSA Token</div>
            <ul class="nav-links">
                <li><a href="index.html">Ana Sayfa</a></li>
                <li><a href="properties.html">Emlaklar</a></li>
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="index.html#about">Hakkımızda</a></li>
            </ul>
            <div class="nav-actions">
                <div class="language-selector">
                    <select id="languageSelect" class="language-dropdown">
                        <option value="tr">🇹🇷 TR</option>
                        <option value="en">🇺🇸 EN</option>
                        <option value="ar">🇸🇦 AR</option>
                    </select>
                </div>
                <a href="properties.html" class="back-btn">← Emlaklar Sayfasına Dön</a>
            </div>
        </nav>
    </header>

    <!-- Property Header -->
    <section class="property-header">
        <div class="property-container">
            <h1 class="property-title fade-in" id="propertyTitle">Downtown Office Complex</h1>
            <p class="property-location fade-in" id="propertyLocation">📍 Potsdamer Platz 1, Berlin, Germany</p>
            <div class="fade-in">
                <span class="property-status" id="propertyStatus">🟢 Yatırım İçin Mevcut</span>
                <span class="verified-badge">✅ Doğrulanmış Emlak</span>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <section class="main-content">
        <div class="property-container">
            <div class="content-grid">
                <!-- Left Column -->
                <div class="left-column">
                    <!-- Property Gallery -->
                    <div class="property-gallery fade-in">
                        <div class="main-image" id="mainImage">
                            <div class="image-overlay">
                                <h3 id="galleryTitle">Premium Office Building</h3>
                                <p id="gallerySubtitle">Modern workspace in Berlin's financial district</p>
                            </div>
                        </div>
                        <div class="thumbnail-grid">
                            <div class="thumbnail thumb-1 active" onclick="changeMainImage(0)"></div>
                            <div class="thumbnail thumb-2" onclick="changeMainImage(1)"></div>
                            <div class="thumbnail thumb-3" onclick="changeMainImage(2)"></div>
                            <div class="thumbnail thumb-4" onclick="changeMainImage(3)"></div>
                        </div>
                    </div>

                    <!-- Property Details -->
                    <div class="property-details fade-in">
                        <h3 class="details-title">📋 Emlak Bilgileri</h3>
                        <div class="detail-row">
                            <span class="detail-label">Emlak Türü</span>
                            <span class="detail-value" id="propertyType">Ticari Ofis Binası</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Toplam Değer</span>
                            <span class="detail-value" id="propertyPrice">€850,000</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Yıllık Getiri</span>
                            <span class="detail-value" id="propertyYield">7.2%</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Mevcut NFT</span>
                            <span class="detail-value" id="propertySupply">2,295 adet</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">NFT Fiyatı</span>
                            <span class="detail-value" id="nftPrice">€100</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Aylık Gelir/NFT</span>
                            <span class="detail-value" id="nftIncome">€0.60</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Durum</span>
                            <span class="detail-value" id="detailStatus">Aktif Satış</span>
                        </div>
                    </div>

                    <!-- How It Works -->
                    <div class="property-details fade-in">
                        <h3 class="details-title">💡 Nasıl Çalışır?</h3>
                        <div style="color: rgba(255,255,255,0.8); line-height: 1.7;">
                            <p style="margin-bottom: 1rem;">
                                <strong style="color: #667eea;">1. Gerçek Emlak:</strong> 
                                Bu, yasal olarak sahip olduğumuz gerçek bir ofis binasıdır. Gerçek kiracılar var ve gerçek kira ödemeleri alıyor.
                            </p>
                            <p style="margin-bottom: 1rem;">
                                <strong style="color: #667eea;">2. NFT Parçalar:</strong> 
                                Bu emlağı binlerce dijital parçaya (NFT) böldük. Her NFT, binanın bir kısmının sahipliğini temsil eder.
                            </p>
                            <p style="margin-bottom: 1rem;">
                                <strong style="color: #667eea;">3. Aylık Gelir:</strong> 
                                Her ay, bina kira geliri elde eder. Bu gelir, NFT sahipleri arasında sahiplik oranına göre dağıtılır.
                            </p>
                            <p>
                                <strong style="color: #667eea;">4. Haklarınız:</strong> 
                                NFT sahibi olarak yasal sahiplik, oy hakları ve NFT'nizi istediğiniz zaman satma hakkınız vardır.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Investment Panel -->
                <div class="right-column">
                    <div class="investment-panel fade-in">
                        <h3 class="panel-title">🏗️ Yatırım Fırsatı</h3>
                        
                        <!-- Alerts -->
                        <div id="alertContainer"></div>
                        
                        <!-- NFT Status -->
                        <div class="nft-status">
                            <h4 style="margin: 0 0 1rem 0; color: #667eea;">NFT Satış Durumu</h4>
                            <div class="nft-numbers">
                                <div class="nft-stat">
                                    <span class="number" id="soldNFTs">6,205</span>
                                    <span class="label">Satılan</span>
                                </div>
                                <div class="nft-stat">
                                    <span class="number" id="availableNFTs">2,295</span>
                                    <span class="label">Mevcut</span>
                                </div>
                            </div>
                            <div class="progress-container">
                                <div class="progress-header">
                                    <span>Fonlama İlerlemesi</span>
                                    <span id="progressPercentage">73% Tamamlandı</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                            </div>
                        </div>

                        <!-- Trust Indicators -->
                        <div class="trust-indicators">
                            <div class="trust-item">
                                <span class="trust-icon">✅</span>
                                <span>Emlak resmi makamlar tarafından doğrulandı</span>
                            </div>
                            <div class="trust-item">
                                <span class="trust-icon">🏛️</span>
                                <span>Yasal sahiplik yapısı kuruldu</span>
                            </div>
                            <div class="trust-item">
                                <span class="trust-icon">💰</span>
                                <span>12 aylık kira geliri kanıtlandı</span>
                            </div>
                            <div class="trust-item">
                                <span class="trust-icon">🔒</span>
                                <span>Smart contract denetlendi ve güvenli</span>
                            </div>
                        </div>

                        <!-- Investment Stats -->
                        <div class="investment-stats">
                            <div class="stat-item">
                                <span class="stat-label">Toplam Emlak Değeri</span>
                                <span class="stat-value" id="totalValue">€850,000</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">NFT Başına Fiyat</span>
                                <span class="stat-value" id="nftPriceStat">€100</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Aylık Kira (Toplam)</span>
                                <span class="stat-value" id="monthlyRent">€51,200</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Yıllık Getiri</span>
                                <span class="stat-value" id="annualYield">7.2%</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">NFT Başına Aylık Gelir</span>
                                <span class="stat-value" id="monthlyIncomePerNFT">€0.60</span>
                            </div>
                        </div>

                        <!-- Investment Calculator -->
                        <div class="calculator">
                            <h4 class="calc-title">💰 Yatırım Hesaplayıcısı</h4>
                            <input type="number" class="amount-input" id="investmentAmount" placeholder="Yatırım tutarını girin (€)" min="100" step="100" value="500">
                            
                            <div class="quick-amounts">
                                <button class="quick-amount" onclick="setAmount(100)">€100</button>
                                <button class="quick-amount" onclick="setAmount(500)">€500</button>
                                <button class="quick-amount" onclick="setAmount(1000)">€1,000</button>
                            </div>

                            <div class="calc-result" id="calcResult">
                                <div class="calc-row">
                                    <span>Sahip olacağınız NFT:</span>
                                    <span id="nftCount">5</span>
                                </div>
                                <div class="calc-row">
                                    <span>Aylık gelir:</span>
                                    <span id="monthlyIncome">€3.00</span>
                                </div>
                                <div class="calc-row">
                                    <span>Yıllık getiri:</span>
                                    <span id="annualReturn">€36.00</span>
                                </div>
                                <div class="calc-row">
                                    <span>Toplam yatırım:</span>
                                    <span id="totalCost">€500</span>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <button class="connect-wallet-btn" id="connectWallet">🔗 Cüzdan Bağla</button>
                        <button class="buy-button" id="buyButton" disabled>NFT Satın Al</button>
                        
                        <div style="margin-top: 1rem; text-align: center; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                            💳 ARSA Token veya ETH ile ödeme
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Image gallery data
        const images = [
            'https://images.unsplash.com/photo-1497366216548-37526070297c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
            'https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
            'https://images.unsplash.com/photo-1560520653-9e0e4c89eb11?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80',
            'https://images.unsplash.com/photo-1541888946425-d81bb19240f5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80'
        ];

        function changeMainImage(index) {
            const mainImage = document.getElementById('mainImage');
            mainImage.style.backgroundImage = `url('${images[index]}')`;
            
            // Update thumbnail active state
            document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }

        // Investment calculator
        function updateInvestmentSummary() {
            const amount = parseFloat(document.getElementById('investmentAmount').value) || 0;
            const nftPrice = parseFloat(document.getElementById('nftPrice').textContent.replace('€', '')) || 100;
            const monthlyIncomePerNFT = parseFloat(document.getElementById('nftIncome').textContent.replace('€', '')) || 0.60;
            
            const nftCount = Math.floor(amount / nftPrice);
            
            document.getElementById('nftCount').textContent = nftCount;
            document.getElementById('monthlyIncome').textContent = `€${(nftCount * monthlyIncomePerNFT).toFixed(2)}`;
            document.getElementById('annualReturn').textContent = `€${(nftCount * monthlyIncomePerNFT * 12).toFixed(2)}`;
            document.getElementById('totalCost').textContent = `€${(nftCount * nftPrice).toFixed(0)}`;
            
            // Update actual investment amount to match whole NFTs
            document.getElementById('investmentAmount').value = nftCount * nftPrice;
        }

        function setAmount(amount) {
            document.getElementById('investmentAmount').value = amount;
            updateInvestmentSummary();
        }

        // Wallet connection simulation
        let walletConnected = false;

        document.getElementById('connectWallet').addEventListener('click', function() {
            if (!walletConnected) {
                this.textContent = '🔄 Bağlanıyor...';
                this.disabled = true;
                
                setTimeout(() => {
                    walletConnected = true;
                    this.textContent = '✅ Cüzdan Bağlandı';
                    this.style.background = 'rgba(16, 185, 129, 0.2)';
                    this.style.borderColor = '#10b981';
                    this.disabled = false;
                    document.getElementById('buyButton').disabled = false;
                    
                    showAlert('🎉 Cüzdan başarıyla bağlandı! Artık NFT satın alabilirsiniz.', 'info');
                }, 2000);
            }
        });

        document.getElementById('buyButton').addEventListener('click', function() {
            if (walletConnected) {
                const nftCount = document.getElementById('nftCount').textContent;
                const totalCost = document.getElementById('totalCost').textContent;
                const monthlyIncome = document.getElementById('monthlyIncome').textContent;
                const propertyName = document.getElementById('propertyTitle').textContent;
                
                const confirmMsg = `🏗️ NFT Satın Alımını Onayla

📊 Yatırım Detayları:
• Emlak: ${propertyName}
• NFT Sayısı: ${nftCount} adet
• Toplam Maliyet: ${totalCost}
• Aylık Gelir: ${monthlyIncome}

✅ Yasal Haklar:
• Mülkiyet sertifikası
• Oy hakları
• Kira geliri hakları
• Yeniden satış hakları

Satın almaya devam etmek istiyor musunuz?`;
                
                if (confirm(confirmMsg)) {
                    this.textContent = '⏳ İşleniyor...';
                    this.disabled = true;
                    
                    setTimeout(() => {
                        const successMsg = `🎉 Satın Alma Başarılı!

✅ ${nftCount} adet NFT satın aldınız
💰 Beklenen aylık gelir: ${monthlyIncome}
📜 Mülkiyet sertifikaları cüzdanınıza gönderildi

ARSA Token emlak yatırımına hoş geldiniz!`;
                        
                        alert(successMsg);
                        
                        this.textContent = '✅ Satın Alma Tamamlandı';
                        this.style.background = 'rgba(16, 185, 129, 0.8)';
                        
                        // Update available NFTs
                        setTimeout(() => {
                            const currentAvailable = parseInt(document.getElementById('availableNFTs').textContent);
                            const newAvailable = currentAvailable - parseInt(nftCount);
                            document.getElementById('availableNFTs').textContent = newAvailable;
                            
                            const currentSold = parseInt(document.getElementById('soldNFTs').textContent);
                            const newSold = currentSold + parseInt(nftCount);
                            document.getElementById('soldNFTs').textContent = newSold;
                            
                            // Update progress
                            const totalNFTs = newSold + newAvailable;
                            const newProgress = Math.round((newSold / totalNFTs) * 100);
                            document.getElementById('progressFill').style.width = newProgress + '%';
                            document.getElementById('progressPercentage').textContent = newProgress + '% Tamamlandı';
                        }, 1000);
                    }, 3000);
                }
            }
        });

        // Alert system
        function showAlert(message, type = 'info') {
            const alertContainer = document.getElementById('alertContainer');
            const alertClass = type === 'warning' ? 'alert-warning' : 'alert-info';
            
            alertContainer.innerHTML = `<div class="alert ${alertClass}">${message}</div>`;
            
            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, 5000);
        }

        // Update summary on input change
        document.getElementById('investmentAmount').addEventListener('input', updateInvestmentSummary);

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateInvestmentSummary();
            changeMainImage(0);
        });
    </script>

    <!-- DİNAMİK VERİ ENTEGRASYONU - Properties sayfasından gelen veriler -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const data = localStorage.getItem("selectedProperty");
            
            if (!data) {
                // Eğer veri yoksa uyarı göster
                showAlert("⚠️ Herhangi bir emlak seçilmedi. Lütfen properties sayfasından bir emlak seçin.", "warning");
                
                // 3 saniye sonra properties sayfasına yönlendir
                setTimeout(() => {
                    if (confirm("Properties sayfasına dönmek ister misiniz?")) {
                        window.location.href = "properties.html";
                    }
                }, 3000);
                return;
            }
            
            try {
                const property = JSON.parse(data);
                console.log('🏗️ Seçilen emlak verileri yükleniyor:', property);
                
                // Sayfa başlığına emlak adı
                const titleEl = document.getElementById("propertyTitle");
                if (titleEl && property.name) {
                    titleEl.textContent = property.name;
                }
                
                // Lokasyon
                const locationEl = document.getElementById("propertyLocation");
                if (locationEl && property.location) {
                    locationEl.textContent = property.location;
                }
                
                // Emlak türü
                const typeEl = document.getElementById("propertyType");
                if (typeEl && property.type) {
                    typeEl.textContent = getPropertyTypeText(property.type);
                }
                
                // Durum
                const statusEl = document.getElementById("propertyStatus");
                const detailStatusEl = document.getElementById("detailStatus");
                if (property.status) {
                    const statusText = getStatusText(property.status);
                    const statusIcon = getStatusIcon(property.status);
                    if (statusEl) statusEl.textContent = `${statusIcon} ${statusText}`;
                    if (detailStatusEl) detailStatusEl.textContent = statusText;
                }
                
                // Fiyat bilgileri
                const priceEl = document.getElementById("propertyPrice");
                const totalValueEl = document.getElementById("totalValue");
                if (property.totalValue) {
                    if (priceEl) priceEl.textContent = property.totalValue;
                    if (totalValueEl) totalValueEl.textContent = property.totalValue;
                }
                
                // Getiri bilgileri
                const yieldEl = document.getElementById("propertyYield");
                const annualYieldEl = document.getElementById("annualYield");
                if (property.yield) {
                    if (yieldEl) yieldEl.textContent = property.yield;
                    if (annualYieldEl) annualYieldEl.textContent = property.yield;
                }
                
                // NFT bilgileri
                const supplyEl = document.getElementById("propertySupply");
                const availableNFTsEl = document.getElementById("availableNFTs");
                if (property.availableNFTs) {
                    if (supplyEl) supplyEl.textContent = property.availableNFTs + " adet";
                    if (availableNFTsEl) availableNFTsEl.textContent = property.availableNFTs;
                }
                
                // NFT fiyat bilgileri
                const nftPriceEl = document.getElementById("nftPrice");
                const nftPriceStatEl = document.getElementById("nftPriceStat");
                if (property.nftPrice) {
                    if (nftPriceEl) nftPriceEl.textContent = property.nftPrice;
                    if (nftPriceStatEl) nftPriceStatEl.textContent = property.nftPrice;
                }
                
                // Aylık gelir bilgileri
                const nftIncomeEl = document.getElementById("nftIncome");
                const monthlyIncomePerNFTEl = document.getElementById("monthlyIncomePerNFT");
                if (property.monthlyIncome) {
                    if (nftIncomeEl) nftIncomeEl.textContent = property.monthlyIncome;
                    if (monthlyIncomePerNFTEl) monthlyIncomePerNFTEl.textContent = property.monthlyIncome;
                }
                
                // Gallery başlık güncellemesi
                const galleryTitleEl = document.getElementById("galleryTitle");
                const gallerySubtitleEl = document.getElementById("gallerySubtitle");
                if (galleryTitleEl && property.name) {
                    galleryTitleEl.textContent = property.name;
                }
                if (gallerySubtitleEl && property.location) {
                    gallerySubtitleEl.textContent = property.location;
                }
                
                // Progress bar hesaplaması (örnek veriler kullanarak)
                if (property.availableNFTs && property.totalValue) {
                    const totalNFTs = Math.floor(parseFloat(property.totalValue.replace(/[€,]/g, '')) / 100);
                    const availableNFTs = parseInt(property.availableNFTs.replace(/,/g, ''));
                    const soldNFTs = totalNFTs - availableNFTs;
                    const progressPercentage = Math.round((soldNFTs / totalNFTs) * 100);
                    
                    document.getElementById('soldNFTs').textContent = soldNFTs.toLocaleString();
                    document.getElementById('progressFill').style.width = progressPercentage + '%';
                    document.getElementById('progressPercentage').textContent = progressPercentage + '% Tamamlandı';
                }
                
                // Sayfa başlığını da güncelle
                document.title = `${property.name || 'Emlak Detayı'} - ARSA Token`;
                
                // Başarı mesajı göster
                showAlert(`✅ ${property.name || 'Emlak'} detayları başarıyla yüklendi!`, 'info');
                
                // Investment calculator'ı güncelle
                setTimeout(() => {
                    updateInvestmentSummary();
                }, 500);
                
                console.log('✅ Emlak verileri başarıyla sayfaya yüklendi');
                
            } catch (error) {
                console.error('❌ Emlak verileri yüklenirken hata:', error);
                showAlert("❌ Emlak verileri yüklenirken hata oluştu. Lütfen tekrar deneyin.", "warning");
                
                setTimeout(() => {
                    window.location.href = "properties.html";
                }, 3000);
            }
        });
        
        // Helper functions
        function getPropertyTypeText(type) {
            const types = {
                'office': 'Ticari Ofis Binası',
                'residential': 'Konut Kompleksi', 
                'retail': 'Ticari Alışveriş Merkezi',
                'warehouse': 'Lojistik Depo',
                'hotel': 'Otel İşletmesi',
                'Ofis': 'Ticari Ofis Binası',
                'Konut': 'Konut Kompleksi',
                'Ticari': 'Ticari Alışveriş Merkezi'
            };
            return types[type] || type || 'Bilinmeyen Tür';
        }
        
        function getStatusText(status) {
            const statuses = {
                'available': 'Yatırım İçin Mevcut',
                'selling': 'Hızla Satılıyor',
                'sold': 'Satış Tamamlandı',
                'Mevcut': 'Yatırım İçin Mevcut',
                'Hızla Satıyor': 'Hızla Satılıyor',
                'Tükendi': 'Satış Tamamlandı'
            };
            return statuses[status] || status || 'Durum Belirsiz';
        }
        
        function getStatusIcon(status) {
            const icons = {
                'available': '🟢',
                'selling': '🟡', 
                'sold': '🔴',
                'Mevcut': '🟢',
                'Hızla Satıyor': '🟡',
                'Tükendi': '🔴'
            };
            return icons[status] || '🟢';
        }
    </script>

</body>
</html>
            